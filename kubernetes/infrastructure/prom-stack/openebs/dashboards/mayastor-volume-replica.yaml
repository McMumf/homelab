apiVersion: v1
kind: ConfigMap
metadata:
  name: mayastor-volume-replica
  namespace: openebs
  labels:
    grafana_dashboard: "1"
data:
  mayastor-volume-replica.json: "{\n   \"annotations\": {\n      \"list\": [\n         {\n            \"builtIn\": 1,\n            \"datasource\": {\n               \"type\": \"grafana\",\n               \"uid\": \"-- Grafana --\"\n            },\n            \"enable\": true,\n            \"hide\": true,\n            \"iconColor\": \"rgba(0, 211, 255, 1)\",\n            \"name\": \"Annotations \u0026 Alerts\",\n            \"type\": \"dashboard\"\n         }\n      ]\n   },\n   \"editable\": true,\n   \"fiscalYearStartMonth\": 0,\n   \"graphTooltip\": 0,\n   \"id\": 43,\n   \"links\": [ ],\n   \"panels\": [\n      {\n         \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"$datasource\"\n         },\n         \"fieldConfig\": {\n            \"defaults\": {\n               \"color\": {\n                  \"mode\": \"palette-classic\"\n               },\n               \"custom\": {\n                  \"axisBorderShow\": false,\n                  \"axisCenteredZero\": false,\n                  \"axisColorMode\": \"text\",\n                  \"axisLabel\": \"\",\n                  \"axisPlacement\": \"auto\",\n                  \"barAlignment\": 0,\n                  \"drawStyle\": \"line\",\n                  \"fillOpacity\": 10,\n                  \"gradientMode\": \"none\",\n                  \"hideFrom\": {\n                     \"legend\": false,\n                     \"tooltip\": false,\n                     \"viz\": false\n                  },\n                  \"insertNulls\": false,\n                  \"lineInterpolation\": \"linear\",\n                  \"lineStyle\": {\n                     \"fill\": \"solid\"\n                  },\n                  \"lineWidth\": 1,\n                  \"pointSize\": 5,\n                  \"scaleDistribution\": {\n                     \"type\": \"linear\"\n                  },\n                  \"showPoints\": \"never\",\n                  \"spanNulls\": false,\n                  \"stacking\": {\n                     \"group\": \"A\",\n                     \"mode\": \"none\"\n                  },\n                  \"thresholdsStyle\": {\n                     \"mode\": \"off\"\n                  }\n               },\n               \"mappings\": [ ],\n               \"thresholds\": {\n                  \"mode\": \"absolute\",\n                  \"steps\": [\n                     {\n                        \"color\": \"green\",\n                        \"value\": null\n                     }\n                  ]\n               },\n               \"unit\": \"iops\"\n            },\n            \"overrides\": [ ]\n         },\n         \"gridPos\": {\n            \"h\": 8,\n            \"w\": 12,\n            \"x\": 0,\n            \"y\": 0\n         },\n         \"id\": 1,\n         \"options\": {\n            \"legend\": {\n               \"calcs\": [ ],\n               \"displayMode\": \"list\",\n               \"placement\": \"bottom\",\n               \"showLegend\": true\n            },\n            \"tooltip\": {\n               \"mode\": \"multi\",\n               \"sort\": \"none\"\n            }\n         },\n         \"pluginVersion\": \"10.4.0\",\n         \"targets\": [\n            {\n               \"datasource\": {\n                  \"uid\": \"$datasource\"\n               },\n               \"editorMode\": \"code\",\n               \"exemplar\": false,\n               \"expr\": \"irate(replica_num_read_ops{name=~\\\"$replica_name\\\"}[1m])\",\n               \"interval\": \"\",\n               \"legendFormat\": \"read\",\n               \"range\": true,\n               \"refId\": \"A\"\n            },\n            {\n               \"datasource\": {\n                  \"type\": \"prometheus\",\n                  \"uid\": \"$datasource\"\n               },\n               \"editorMode\": \"code\",\n               \"expr\": \"irate(replica_num_write_ops{name=~\\\"$replica_name\\\"}[1m])\",\n               \"format\": \"time_series\",\n               \"hide\": false,\n               \"instant\": false,\n               \"interval\": \"\",\n               \"legendFormat\": \"write\",\n               \"range\": true,\n               \"refId\": \"B\"\n            }\n         ],\n         \"title\": \"IOPS\",\n         \"type\": \"timeseries\"\n      },\n      {\n         \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"$datasource\"\n         },\n         \"fieldConfig\": {\n            \"defaults\": {\n               \"color\": {\n                  \"mode\": \"palette-classic\"\n               },\n               \"custom\": {\n                  \"axisBorderShow\": false,\n                  \"axisCenteredZero\": false,\n                  \"axisColorMode\": \"text\",\n                  \"axisLabel\": \"\",\n                  \"axisPlacement\": \"auto\",\n                  \"barAlignment\": 0,\n                  \"drawStyle\": \"line\",\n                  \"fillOpacity\": 10,\n                  \"gradientMode\": \"none\",\n                  \"hideFrom\": {\n                     \"legend\": false,\n                     \"tooltip\": false,\n                     \"viz\": false\n                  },\n                  \"insertNulls\": false,\n                  \"lineInterpolation\": \"linear\",\n                  \"lineStyle\": {\n                     \"fill\": \"solid\"\n                  },\n                  \"lineWidth\": 1,\n                  \"pointSize\": 5,\n                  \"scaleDistribution\": {\n                     \"type\": \"linear\"\n                  },\n                  \"showPoints\": \"never\",\n                  \"spanNulls\": false,\n                  \"stacking\": {\n                     \"group\": \"A\",\n                     \"mode\": \"none\"\n                  },\n                  \"thresholdsStyle\": {\n                     \"mode\": \"off\"\n                  }\n               },\n               \"mappings\": [ ],\n               \"thresholds\": {\n                  \"mode\": \"absolute\",\n                  \"steps\": [\n                     {\n                        \"color\": \"green\",\n                        \"value\": null\n                     }\n                  ]\n               },\n               \"unit\": \"binBps\"\n            },\n            \"overrides\": [ ]\n         },\n         \"gridPos\": {\n            \"h\": 8,\n            \"w\": 12,\n            \"x\": 12,\n            \"y\": 0\n         },\n         \"id\": 2,\n         \"options\": {\n            \"legend\": {\n               \"calcs\": [ ],\n               \"displayMode\": \"list\",\n               \"placement\": \"bottom\",\n               \"showLegend\": true\n            },\n            \"tooltip\": {\n               \"mode\": \"multi\",\n               \"sort\": \"none\"\n            }\n         },\n         \"pluginVersion\": \"10.4.0\",\n         \"targets\": [\n            {\n               \"datasource\": {\n                  \"uid\": \"$datasource\"\n               },\n               \"editorMode\": \"code\",\n               \"exemplar\": true,\n               \"expr\": \"irate(replica_bytes_read{name=~\\\"$replica_name\\\"}[1m])\",\n               \"interval\": \"\",\n               \"legendFormat\": \"read\",\n               \"range\": true,\n               \"refId\": \"A\"\n            },\n            {\n               \"datasource\": {\n                  \"type\": \"prometheus\",\n                  \"uid\": \"$datasource\"\n               },\n               \"editorMode\": \"code\",\n               \"expr\": \"irate(replica_bytes_written{name=~\\\"$replica_name\\\"}[1m])\",\n               \"hide\": false,\n               \"instant\": false,\n               \"legendFormat\": \"write\",\n               \"range\": true,\n               \"refId\": \"B\"\n            }\n         ],\n         \"title\": \"Throughput\",\n         \"type\": \"timeseries\"\n      },\n      {\n         \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"$datasource\"\n         },\n         \"fieldConfig\": {\n            \"defaults\": {\n               \"color\": {\n                  \"mode\": \"palette-classic\"\n               },\n               \"custom\": {\n                  \"axisBorderShow\": false,\n                  \"axisCenteredZero\": false,\n                  \"axisColorMode\": \"text\",\n                  \"axisLabel\": \"\",\n                  \"axisPlacement\": \"auto\",\n                  \"barAlignment\": 0,\n                  \"drawStyle\": \"line\",\n                  \"fillOpacity\": 10,\n                  \"gradientMode\": \"none\",\n                  \"hideFrom\": {\n                     \"legend\": false,\n                     \"tooltip\": false,\n                     \"viz\": false\n                  },\n                  \"insertNulls\": false,\n                  \"lineInterpolation\": \"linear\",\n                  \"lineStyle\": {\n                     \"fill\": \"solid\"\n                  },\n                  \"lineWidth\": 1,\n                  \"pointSize\": 5,\n                  \"scaleDistribution\": {\n                     \"type\": \"linear\"\n                  },\n                  \"showPoints\": \"never\",\n                  \"spanNulls\": false,\n                  \"stacking\": {\n                     \"group\": \"A\",\n                     \"mode\": \"none\"\n                  },\n                  \"thresholdsStyle\": {\n                     \"mode\": \"off\"\n                  }\n               },\n               \"mappings\": [ ],\n               \"thresholds\": {\n                  \"mode\": \"absolute\",\n                  \"steps\": [\n                     {\n                        \"color\": \"green\",\n                        \"value\": null\n                     }\n                  ]\n               },\n               \"unit\": \"s\"\n            },\n            \"overrides\": [ ]\n         },\n         \"gridPos\": {\n            \"h\": 8,\n            \"w\": 12,\n            \"x\": 6,\n            \"y\": 8\n         },\n         \"id\": 3,\n         \"options\": {\n            \"legend\": {\n               \"calcs\": [ ],\n               \"displayMode\": \"list\",\n               \"placement\": \"bottom\",\n               \"showLegend\": true\n            },\n            \"tooltip\": {\n               \"mode\": \"multi\",\n               \"sort\": \"none\"\n            }\n         },\n         \"pluginVersion\": \"10.4.0\",\n         \"targets\": [\n            {\n               \"datasource\": {\n                  \"uid\": \"$datasource\"\n               },\n               \"editorMode\": \"code\",\n               \"exemplar\": true,\n               \"expr\": \"((irate(replica_read_latency_us{name=~\\\"$replica_name\\\"}[1m]))/(irate(replica_num_read_ops{name=~\\\"$replica_name\\\"}[1m])))/1000000\",\n               \"interval\": \"\",\n               \"legendFormat\": \"read\",\n               \"range\": true,\n               \"refId\": \"A\"\n            },\n            {\n               \"datasource\": {\n                  \"type\": \"prometheus\",\n                  \"uid\": \"$datasource\"\n               },\n               \"editorMode\": \"code\",\n               \"expr\": \"((irate(replica_write_latency_us{name=~\\\"$replica_name\\\"}[1m]))/(irate(replica_num_write_ops{name=~\\\"$replica_name\\\"}[1m])))/1000000\",\n               \"hide\": false,\n               \"instant\": false,\n               \"legendFormat\": \"write\",\n               \"range\": true,\n               \"refId\": \"B\"\n            }\n         ],\n         \"title\": \"Latency\",\n         \"type\": \"timeseries\"\n      }\n   ],\n   \"refresh\": \"5s\",\n   \"schemaVersion\": 39,\n   \"tags\": [\n      \"OpenEBS\",\n      \"Mayastor\"\n   ],\n   \"templating\": {\n      \"list\": [\n         {\n            \"current\": {\n               \"selected\": false,\n               \"text\": \"Prometheus\",\n               \"value\": \"prometheus\"\n            },\n            \"hide\": 0,\n            \"includeAll\": false,\n            \"multi\": false,\n            \"name\": \"datasource\",\n            \"options\": [ ],\n            \"query\": \"prometheus\",\n            \"refresh\": 1,\n            \"regex\": \"\",\n            \"skipUrlSync\": false,\n            \"type\": \"datasource\"\n         },\n         {\n            \"current\": {\n               \"selected\": true,\n               \"text\": [\n                  \"All\"\n               ],\n               \"value\": [\n                  \"$__all\"\n               ]\n            },\n            \"datasource\": {\n               \"type\": \"prometheus\",\n               \"uid\": \"${datasource}\"\n            },\n            \"definition\": \"label_values(replica_num_read_ops,name)\",\n            \"hide\": 0,\n            \"includeAll\": true,\n            \"multi\": true,\n            \"name\": \"replica_name\",\n            \"options\": [ ],\n            \"query\": {\n               \"qryType\": 1,\n               \"query\": \"label_values(replica_num_read_ops,name)\",\n               \"refId\": \"PrometheusVariableQueryEditor-VariableQuery\"\n            },\n            \"refresh\": 2,\n            \"regex\": \"\",\n            \"skipUrlSync\": false,\n            \"sort\": 0,\n            \"type\": \"query\"\n         }\n      ]\n   },\n   \"time\": {\n      \"from\": \"now-1h\",\n      \"to\": \"now\"\n   },\n   \"timepicker\": { },\n   \"timezone\": \"browser\",\n   \"title\": \"OpenEBS / Replicated PV / Mayastor / Volume Replica\",\n   \"uid\": \"fdl05xto1hn28e\",\n   \"version\": 6,\n   \"weekStart\": \"\"\n}\n"
